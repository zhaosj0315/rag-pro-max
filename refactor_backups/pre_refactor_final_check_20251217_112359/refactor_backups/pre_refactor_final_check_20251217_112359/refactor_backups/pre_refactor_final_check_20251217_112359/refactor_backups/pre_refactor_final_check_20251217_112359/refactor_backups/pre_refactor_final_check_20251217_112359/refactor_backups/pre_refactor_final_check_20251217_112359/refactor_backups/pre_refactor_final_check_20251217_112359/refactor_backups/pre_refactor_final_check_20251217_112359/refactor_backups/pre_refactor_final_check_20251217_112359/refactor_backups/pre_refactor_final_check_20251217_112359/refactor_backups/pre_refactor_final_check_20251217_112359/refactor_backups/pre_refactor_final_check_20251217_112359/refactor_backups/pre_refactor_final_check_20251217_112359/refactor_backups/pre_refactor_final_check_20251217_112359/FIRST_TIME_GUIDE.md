# 首次使用引导功能

## 📋 功能说明

为新用户提供友好的首次使用引导，帮助快速上手 RAG Pro Max。

## ✨ 功能特点

- 🎯 **自动触发**: 首次启动且无知识库时显示
- 📝 **简洁明了**: 3 步快速开始
- ✅ **一次性**: 点击"我知道了"后不再显示
- 💡 **实用提示**: 包含关键操作指引

## 🚀 引导内容

### 显示时机

**触发条件**:
- 首次启动应用
- 没有任何知识库

### 引导步骤

```
👋 欢迎使用 RAG Pro Max！

快速开始指南：

1️⃣ 配置 LLM（左侧边栏）
   - 选择 Ollama（本地）或 OpenAI（云端）
   - 输入 API 信息

2️⃣ 创建知识库
   - 点击 "➕ 新建知识库..."
   - 输入名称，上传文档

3️⃣ 开始对话
   - 选择知识库
   - 在下方输入问题

💡 提示：支持 PDF、DOCX、TXT、MD 等多种格式

[✅ 我知道了，开始使用]
```

## 🔧 技术实现

### Session State 管理

```python
if "first_time_guide_shown" not in st.session_state:
    st.session_state.first_time_guide_shown = False
```

### 显示逻辑

```python
if not st.session_state.first_time_guide_shown and len(existing_kbs) == 0:
    st.info("""引导内容...""")
    
    if st.button("✅ 我知道了，开始使用"):
        st.session_state.first_time_guide_shown = True
        st.rerun()
```

### 状态持久化

- 使用 `st.session_state` 存储
- 会话期间保持状态
- 重启应用后重新显示（符合预期）

## 💡 设计理念

### 1. 非侵入式

- 不阻塞用户操作
- 可以直接关闭
- 不强制阅读

### 2. 简洁明了

- 只显示最关键的 3 步
- 避免信息过载
- 突出重点操作

### 3. 一次性提示

- 点击后不再显示
- 避免重复打扰
- 尊重用户体验

## 📊 用户流程

```
启动应用
   ↓
检查知识库数量
   ↓
   = 0？
   ↓
显示引导
   ↓
用户点击"我知道了"
   ↓
标记已显示
   ↓
正常使用
```

## 🎯 实际案例

### 案例 1: 新用户首次使用

**场景**: 第一次打开应用

**流程**:
1. 看到欢迎引导
2. 阅读 3 步指南
3. 点击"我知道了"
4. 按照指引配置 LLM
5. 创建第一个知识库

**效果**: 快速上手，无需查看文档

### 案例 2: 老用户重启应用

**场景**: 已有知识库的用户

**流程**:
1. 启动应用
2. 不显示引导（已有知识库）
3. 直接进入正常使用

**效果**: 不打扰老用户

### 案例 3: 删除所有知识库

**场景**: 用户删除了所有知识库

**流程**:
1. 删除最后一个知识库
2. 刷新页面
3. 再次显示引导（因为无知识库）

**效果**: 帮助用户重新开始

## 🔄 未来扩展

可能的增强功能：

### 1. 交互式教程

- 分步引导
- 高亮关键区域
- 实时操作提示

### 2. 示例知识库

- 预置示例文档
- 一键创建示例
- 快速体验功能

### 3. 视频教程

- 嵌入视频链接
- 图文并茂
- 更直观的演示

### 4. 进度追踪

- 显示完成步骤
- 鼓励完成引导
- 成就感反馈

## 📈 实现状态

- ✅ 自动触发逻辑
- ✅ 引导内容显示
- ✅ 状态管理
- ✅ 一次性提示
- ✅ 简洁设计

## 💬 用户反馈

预期用户反馈：

**正面**:
- ✅ "很清晰，知道怎么开始了"
- ✅ "3 步很简单，容易上手"
- ✅ "不会重复出现，很好"

**改进建议**:
- 💡 "能不能加个视频教程？"
- 💡 "希望有示例知识库"
- 💡 "能不能手动再次查看引导？"

## 🎁 设计亮点

1. **最小化设计**: 只显示最必要的信息
2. **用户友好**: 不强制、不打扰
3. **智能触发**: 只在需要时显示
4. **清晰步骤**: 3 步快速上手

---

**实现时间**: 2025-12-07  
**版本**: v1.0  
**状态**: ✅ 已完成
