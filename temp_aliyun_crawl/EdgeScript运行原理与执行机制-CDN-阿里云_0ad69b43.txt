URL: https://help.aliyun.com/zh/cdn/developer-reference/how-edgescript-works
标题: EdgeScript运行原理与执行机制-CDN-阿里云
内容长度: 1063 字符
==================================================

本文为您介绍
EdgeScript
的运行原理、规则模型、执行位置与优先级、命中与中断执行。
运行原理
您配置的边缘脚本规则与
CDN
控制台上的标准配置一样，都是对
CDN
请求进行处理。边缘脚本的执行位置如图所示，当客户端请求到达
CDN
节点后，节点网关会根据您在控制台上设置的标准配置、边缘脚本规则对请求进行处理。以
CDN
控制台上的标准配置为参照物，边缘脚本可选择在请求处理的最前面或最后面生效。
规则模型
EdgeScript
的规则模型如下：
EdgeScript
的规则模型的核心出发点是将不同业务功能隔离至不同规则，以及控制规则的执行流。
EdgeScript
的规则模型中的每条规则可以各自选择规则的执行位置（即介入请求处理的位置）和优先级。
EdgeScript
的规则模型以域名维度生效。
执行位置与优先级
EdgeScript
的执行位置与优先级如下：
执行位置
EdgeScript
规则的执行位置为请求处理开始和请求处理结尾。
请求处理开始：常用应用场景为一次鉴权、拦截、限速等。
请求处理结束：常用应用场景为缓存设置、回源鉴权、A/B Test
等。
优先级
处于同一执行位置的多条规则，可以通过选择优先级，决定其先后执行顺序。
命中与中断执行
EdgeScript
的命中与中断执行如下：
EdgeScript
规则的命中定义
如果规则中包含
if condition {}
语法 ，且
condition
为真时，规则模型认为该规则命中。
如果规则中包含
if condition {}
语法，且
condition
为假时，或者规则中不包含
if condition {}
语法时，规则模型认为该规则未命中。
EdgeScript
规则的中断执行
对于命中规则，可以选择终止本阶段剩余规则的执行。
视频讲解
说明
本视频以
CDN
讲解为例，同样适用于全站加速服务。
本视频主要从以下几个方面为您介绍
EdgeScript：
EdgeScript
的用户需求场景（业务复杂，通用功能配置无法满足，有定制配置需求）。
阿里云
CDN
提供的三种不同灵活度、不同使用难度的配置功能（EdgeScript
的配置灵活度最高，但是上手难度会相对大一些）。
什么是
EdgeScript？
EdgeScript
提供的能力。
EdgeScript
的技术原理。
EdgeScript
的使用场景。
上一篇：EdgeScript概述
下一篇：EdgeScript快速入门
该文章对您有帮助吗？
反馈