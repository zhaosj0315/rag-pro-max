# RAG Pro Max v2.6.1 🚀

## 🎉 界面重构更新

RAG Pro Max v2.6.1 带来全新的界面体验，让操作更直观、更高效！

### ✨ 新功能

#### 🎨 4x1 扁平布局
- **数据源选择重构** - 扁平化4选项布局 (`📂 文件`, `📝 文本`, `🔗 网址`, `🔍 搜索`)
- **操作更直观** - 移除复杂嵌套，一键切换数据源
- **用户体验提升** - 减少点击次数，提高操作效率

#### 🚀 统一触发机制
- **侧边栏统一控制** - 所有创建任务由"🚀 立即创建"按钮统一触发
- **防误触设计** - 彻底修复自动触发问题，确保配置完成后再执行
- **逻辑更清晰** - 符合"先配置，后执行"的操作直觉

#### ⚡ 稳定性增强
- **代码健壮性** - 修复 IndentationError 和 NameError 问题
- **按钮冲突解决** - 修复 Streamlit DuplicateElementId 冲突
- **冗余代码清理** - 删除500+行重复逻辑，降低维护成本

#### 🔌 API接口扩展
- **RESTful API** - 完整的程序化调用接口
- **增量更新API** - `/incremental-update` 支持批量文件处理
- **多模态上传API** - `/upload-multimodal` 支持各种文件格式
- **多模态查询API** - `/query-multimodal` 支持混合内容检索
- **统计信息API** - `/kb/{kb_name}/incremental-stats` 获取处理状态

#### 🚀 智能启动
- **自动检测v2.0功能** - 启动时自动检测可用功能
- **完全向后兼容** - 无v2.0依赖时自动回退到v1.8
- **统一启动命令** - 同一个命令，自动适配版本
- **渐进式升级** - 可选择性安装v2.0功能

### 🔧 改进和修复

- **队列阻塞修复** - 修复问答队列卡住问题，添加重置功能
- **摘要显示优化** - 修复摘要标题截取问题，显示更完整内容
- **文档同步保障** - 代码和文档完全同步，新增同步检查工具
- **测试覆盖增强** - 新增43个测试用例，覆盖所有新功能

## 🚀 快速开始

### 智能启动（推荐）
```bash
# 使用现有命令，自动检测版本
./start.sh
```

### 完整v2.0体验
```bash
# 安装v2.0依赖
./scripts/deploy_v2.sh

# 启动完整服务
./start_v2.sh
```

## 📱 访问地址

- **主应用**: http://localhost:8501
- **API文档**: http://localhost:8000/docs

## 🧪 测试验证

```bash
# 运行完整测试
python3 tests/factory_test.py

# 运行v2.0功能测试
python3 tests/test_v2.0_feasibility.py
```

**完整更新日志**: [README.md](README.md#更新日志)
