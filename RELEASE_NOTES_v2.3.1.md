# RAG Pro Max v2.3.1 更新日志

## 🚀 新增功能
- **动态 AI 模型切换**: 在对话界面新增"🤖 模型与任务设置"面板，允许用户根据任务需求（写代码、看图、闲聊）实时切换不同的 AI 模型（如 deepseek-coder, llama3 等）。系统会自动从 Ollama 获取可用模型列表。

## 🐛 修复
- **OCR 初始化风暴**: 修复了多进程环境下 GPU OCR 引擎重复初始化导致 CPU/内存激增的严重问题。现在 OCR 引擎会在 Worker 进程中跳过初始化，显著降低资源占用。
- **知识库维度检测**: 修复了维度检测逻辑，现在优先从 `.kb_info.json` 读取准确的维度信息，解决了构建 1024D 索引却被误识别为 512D 导致的检索失效问题。
- **Web to KB 索引构建**: 修复了网页抓取后无法创建知识库索引的问题。现在抓取完成后会正确调用 `IndexBuilder` 构建向量索引。
- **日志降噪**: 屏蔽了 Pydantic 版本兼容性相关的冗余警告，使后台日志更加清晰。

## 🔧 优化
- **Web to KB 流程**: 优化了从网页到知识库的完整流程，确保抓取内容能够被正确索引和检索。
- **UI 极简设计**: 将模型与任务设置折叠进输入框上方的 **"⚙️"** 悬浮菜单中，配合单行状态显示，极致节省屏幕空间，提供沉浸式对话体验。
- **UI 整合**: 将知识库管理区域重构为统一的**卡片式布局**，整合了知识库详情（名称、文件数、大小）与常用操作（撤销、清空、导出、删除），使界面层次更清晰，操作更顺手。
- **UI 降噪**: 移除了侧边栏中冗余的性能监控统计（负载、告警等），使界面更清爽，详细数据请查看专属的“📊 监控”页面。
- **智能命名**: 优化了知识库自动命名逻辑。当上传单个文件时，知识库将直接使用文件名命名（如“育儿雷区避开建议”），而非笼统的“PDF知识库”，让名称更具辨识度。